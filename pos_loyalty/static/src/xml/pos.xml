<?xml version="1.0" encoding="UTF-8" ?>
<templates id="template" xml:space="preserve">
    <t t-inherit="point_of_sale.OrderSummary" t-inherit-mode="extension">
        <xpath expr="//*[hasclass('summary')]" position="inside">
            <LoyaltyPoints/>
        </xpath>
    </t>
    <t t-inherit="point_of_sale.ClientLine" t-inherit-mode="extension">
        <xpath expr="//tr[contains(@t-attf-class, 'client-line')]" position="inside">
            <td>
                 <t t-esc="env.pos.formatFixed(props.partner.loyalty_points || 0)" />
            </td>
        </xpath>
    </t>
    <t t-inherit="point_of_sale.OrderReceipt" t-inherit-mode="extension">
        <xpath expr="//*[hasclass('before-footer')]" position="inside">
            <t t-if='receipt.loyalty'>
                <div class='loyalty' value-decimals='2' value-autoint='on'>
                    <div>--------------------------------</div>
                    <br />
                    <div size='double-height'>
                        <t t-esc='receipt.loyalty.name' />
                    </div>
                    <br />
                    <div>
                        <t t-esc='receipt.loyalty.client' />
                    </div>
                    <br />
                    <t t-if='receipt.loyalty.points_won'>
                        <line>
                            <left>Points Won</left>
                            <right>
                                <value>
                                    <t t-esc='receipt.loyalty.points_won' />
                                </value>
                            </right>
                        </line>
                    </t>
                    <t t-if='receipt.loyalty.points_spent'>
                        <line>
                            <left>Points Spent</left>
                            <right>
                                <value>
                                    <t t-esc='receipt.loyalty.points_spent' />
                                </value>
                            </right>
                        </line>
                    </t>
                    <t t-if='receipt.loyalty.points_total'>
                        <line>
                            <left>Total Points</left>
                            <right>
                                <value>
                                    <t t-esc='receipt.loyalty.points_total' />
                                </value>
                            </right>
                        </line>
                    </t>
                    <br />
                </div>
            </t>
        </xpath>
    </t>
    <t t-inherit="point_of_sale.ClientDetailsEdit" t-inherit-mode="extension">
        <xpath expr="//*[hasclass('client-details-right')]" position="before">
            <div class='client-detail'>
                <span class='label'>Points</span>
                <span class='detail client-points'>
                   <t t-esc="env.pos.formatFixed(props.partner.loyalty_points || 0)" />
                </span>
            </div>
        </xpath>
    </t>
    <t t-inherit="point_of_sale.ClientListScreen" t-inherit-mode="extension">
        <xpath expr="//table[hasclass('client-list')]/thead/tr" position="inside">
            <th>Points</th>
        </xpath>
    </t>
</templates>
